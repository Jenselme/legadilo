{% extends "base.html" %}

{% load crispy_forms_tags i18n static %}

{% block title %}
    {% translate "Activate Authenticator App" %}
{% endblock title %}

{% block content %}
    <h1>{% translate "Activate Authenticator App" %}</h1>
    <p>
        {% blocktranslate trimmed %}To protect your account with two-factor authentication, scan the QR code below with your authenticator app. Then, input the verification code generated by the app below.{% endblocktranslate %}
    </p>
    <form method="post" action="{% url 'mfa_activate_totp' %}">
        {% csrf_token %}
        <img src="{{ totp_svg_data_uri }}" alt="{{ form.secret }}" />
        <div class="mb-3">
            <label class="form-label" for="authenticator_secret">{% translate "Authenticator secret" %}</label>
            <input id="authenticator_secret"
                   class="form-control"
                   type="text"
                   value="{{ form.secret }}"
                   disabled />
            <div class="form-text">
                {% translate "You can store this secret and use it to reinstall your authenticator app at a later time." %}
            </div>
        </div>
        {{ form|crispy }}
        <button class="btn btn-primary" type="submit">{% translate "Activate" %}</button>
    </form>
{% endblock content %}
