{% extends 'base.html' %}

{% block title %}
    {{ article.title|safe }}
{% endblock title %}
{% block content %}
    {% if not article.was_opened %}
        <form class="visually-hidden"
              aria-hidden="true"
              hx-trigger="load"
              hx-post="{{ article|opened_action_url }}"
              hx-swap="none">
            {% csrf_token %}
        </form>
    {% endif %}
    <div class="container-fluid scrollable-container">
        <div class="mt-5 row scrollable">
            <div class="col col-2">
                <div class="sticky-top">
                    {% include "feeds/partials/article_actions.html" with for_article_details=True vertical_group=True %}
                </div>
            </div>
            <div class="col col-10 container-xl">
                <h1>{{ article.title |safe }}</h1>
                <div class="text-secondary">{% include 'feeds/partials/article_metadata.html' %}</div>
                {% if article.tags_to_display %}
                    <p>
                        {% for tag in article.tags_to_display %}
                            <a class="link-underline link-underline-opacity-0 badge text-bg-primary me-1"
                               href="{% url 'feeds:tag_with_articles' tag_slug=tag.slug %}">{{ tag.name }}</a>
                        {% endfor %}
                    </p>
                {% endif %}
                <div class="mt-3">{{ article.content | safe }}</div>
                <div class="d-flex justify-content-center mt-2 mb-5">
                    {% include 'feeds/partials/article_actions.html' with for_article_details=True %}
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
